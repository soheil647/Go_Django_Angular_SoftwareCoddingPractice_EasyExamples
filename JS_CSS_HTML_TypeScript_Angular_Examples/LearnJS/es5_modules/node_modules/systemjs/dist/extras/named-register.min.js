!function(t){const e=t.System;c(e);const s=e.constructor.prototype,n=e.constructor,i=function(){n.call(this),c(this)};let r;function o(){r=null}function c(t){t.registerRegistry=Object.create(null)}i.prototype=s,e.constructor=i;const l=s.register;s.register=function(t,e,s){if("string"!=typeof t)return l.apply(this,arguments);const n=[e,s];return this.registerRegistry[t]=n,r||(r=n,setTimeout(o,0)),l.apply(this,arguments)};const u=s.resolve;s.resolve=function(t,e){return"/"===t[0]||"."===t[0]&&("/"===t[1]||"."===t[1]&&"/"===t[2])?u.call(this,t,e):t in this.registerRegistry?t:u.call(this,t,e)};const g=s.instantiate;s.instantiate=function(t,e){return this.registerRegistry[t]||g.call(this,t,e)};const f=s.getRegister;s.getRegister=function(){return r||f.call(this)}}("undefined"!=typeof self?self:global);